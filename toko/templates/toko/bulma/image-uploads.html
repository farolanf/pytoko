{% load utils %}

{% script '/static/lib/vue' min=True %}

{% jsvar imageUploads=field.value %}

{% include './image-upload.html' %}

<div class="field">
    <label class="label">{{ field.label }}</label>
    <div class="control image-uploads__container">
        <image-upload v-for="item, i in imageUploads" :key="item.id" :item="item" :index="i" :data-id="item.id">
        </image-upload>
    </div>
    {% include './field-help.html' %}
</div>

<div class="modal image-uploads__cropper-modal" :class="{'is-active': visible}">
    <div class="modal-background" @click="hide"></div>
    <div class="modal-card">
        <div class="modal-card-head">
            <p class="modal-card-title">Pilih tampilan terbaik dari gambar</p>
            <a class="delete" @click="hide"></a>
        </div>
        <div class="modal-card-body flex">
            <img class="w-100" ref="img">
        </div>
        <div class="modal-card-foot">
            <a class="button is-link" @click="save">Simpan</a>
            <a class="button is-text" @click="hide">Batal</a>
            <a class="button" @click="rotateLeft">
                <i class="fa fa-rotate-left"></i>
            </a>
            <a class="button" @click="rotateRight">
                <i class="fa fa-rotate-right"></i>
            </a>
        </div>
    </div>
</div>